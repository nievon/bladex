{% extends "home.twig" %}

{% block title %}Каталог телефонов{% endblock %}

{% block content %}
    <h1>Каталог телефонов</h1>

    <div class="catalog-grid">
        {% for product in products %}
            <div class="container card">
                <a href="/product/{{ product.id }}">
                    {% if product.image %}
                        <img src="images/phone/{{ product.image }}" alt="{{ product.title }}" class="product-image">
                    {% else %}
                        <img src="images/phone/lion.jpg" alt="Нет изображения" class="product-image placeholder">
                    {% endif %}
                </a>
                <h2 class="product-title">{{ product.title }}</h2>
                <p class="product-description">{{ product.description|default('Описание скоро появится.') }}</p>
                <p class="product-price"><strong>{{ product.price }} ₽</strong></p>

                <form method="post" action="/cart/add" class="add-to-cart-form">
                    <input type="hidden" name="product_id" value="{{ product.id }}">
                    <button type="submit" class="add-to-cart-button">В корзину</button>
                </form>
            </div>
        {% else %}
            <p>Товары пока не добавлены.</p>
        {% endfor %}
    </div>
{% endblock %}
