{% extends "home.twig" %}

{% block title %}Каталог телефонов{% endblock %}

{% block content %}
    <h1>Каталог телефонов</h1>

    <div class="d-flex" style="flex-wrap: wrap; justify-content: center; gap: 1rem;">
        {% for product in products %}
            <div class="container" style="flex: 1 1 300px; max-width: 350px;">
                {% if product.image %}
                    <img src="{{ product.image }}" alt="{{ product.title }}"
                         style="width: 100%; border-radius: 0.75rem; margin-bottom: 1rem; object-fit: cover; max-height: 200px;">
                {% else %}
                    <img src="images/lion.jpg" alt="Нет изображения"
                         style="width: 100%; border-radius: 0.75rem; margin-bottom: 1rem; opacity: 0.5; object-fit: cover; max-height: 200px;">
                {% endif %}
                <h2 style="font-size: 1.5rem; margin-bottom: 0.5rem;">{{ product.title }}</h2>
                <p style="margin-bottom: 1rem;">{{ product.description|default('Описание скоро появится.') }}</p>
                <p><strong>{{ product.price }} ₽</strong></p>

                <form method="post" action="/cart/add" style="margin-top: 1rem;">
                    <input type="hidden" name="product_id" value="{{ product.id }}">
                    <button type="submit"
                            style="padding: 0.6rem 1.2rem; background: rgba(206, 159, 6, 0.8); border: none; border-radius: 0.5rem; text-shadow: 0 0 15px rgb(0,0,0); color: #ddd; font-size: 1rem; cursor: pointer; transition: background 0.3s;">В корзину</button>
                </form>
            </div>
        {% else %}
            <p>Товары пока не добавлены.</p>
        {% endfor %}
    </div>
{% endblock %}